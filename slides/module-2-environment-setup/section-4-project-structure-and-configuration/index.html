<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Section 4: Project Structure and Configuration | React Native Training Course</title>
  <link rel="stylesheet" href="../../shared/styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Source+Code+Pro:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>
  <div class="slides">
    <!-- Title Slide -->
    <section class="slide title-slide">
      <h1>Section 4</h1>
      <h2>Project Structure and Configuration</h2>
      <p class="metadata">Module 2 | 60 minutes</p>
    </section>
    
    <!-- Learning Objectives Slide -->
    <section class="slide objectives-slide">
      <h2>Learning Objectives</h2>
      <ul>
        <li>Understand core files and directories in React Native projects</li>
        <li>Configure applications using app.json and package.json</li>
        <li>Implement advanced configuration options in Expo projects</li>
        <li>Optimize development workflows</li>
        <li>Create scalable project structures</li>
      </ul>
      <div class="metadata">
        <p><strong>Time:</strong> 60 minutes</p>
        <p><strong>Prerequisites:</strong> Sections 1-3</p>
      </div>
    </section>
    
    <!-- Core Project Structure Slide -->
    <section class="slide content-slide">
      <h2>Core Project Structure</h2>
      <div class="content-block">
        <p>A typical React Native Expo project contains these key files and directories:</p>
        <ul>
          <li><code>.expo/</code> - Expo-specific files and configurations</li>
          <li><code>.vscode/</code> - VS Code editor settings</li>
          <li><code>app/</code> - Main application code and routes</li>
          <li><code>assets/</code> - Static resources (images, fonts)</li>
          <li><code>babel.config.js</code> - JavaScript transpiler configuration</li>
          <li><code>app.json</code> - Expo project configuration</li>
          <li><code>package.json</code> - Project dependencies and scripts</li>
          <li><code>tsconfig.json</code> - TypeScript configuration</li>
        </ul>
        <div style="text-align: center; margin: 20px 0;">
          <img src="./images/expo-project-structure.png" alt="Expo Project Structure" style="max-width: 80%; height: auto;">
        </div>
      </div>
      <div class="callout deep-dive">
        <p>The structure may vary based on template choices and specific project needs. Expo's managed workflow simplifies many configuration tasks that would be more complex in a bare React Native project.</p>
      </div>
    </section>
    
    <!-- App Directory Structure Slide -->
    <section class="slide content-slide">
      <h2>App Directory Structure</h2>
      <div class="content-block">
        <p>The <code>app/</code> directory contains the main application code and routes:</p>
        <div class="code-block">
          <pre><code>// Main entry point
app/
  ├── _layout.tsx    // Root layout component
  ├── index.tsx      // Home screen
  ├── about.tsx      // About screen
  └── settings.tsx   // Settings screen</code></pre>
        </div>
        <p>This structure follows Expo Router conventions, where each file represents a route in your application.</p>
      </div>
      <div class="callout platform-specific">
        <p><strong>For iOS Developers:</strong> This file-based routing is conceptually similar to how storyboards organize screens, but with a more programmatic approach.</p>
      </div>
    </section>
    
    <!-- Assets Directory Slide -->
    <section class="slide content-slide">
      <h2>Assets Directory</h2>
      <div class="content-block">
        <p>The <code>assets/</code> directory holds static resources like images and fonts:</p>
        <div class="code-block">
          <pre><code>// Importing assets
import { Image } from 'react-native';
import logo from '../assets/images/logo.png';

export default function LogoDisplay() {
  return <Image source={logo} style={{ width: 100, height: 100 }} />;
}</code></pre>
        </div>
        <p>Assets are automatically bundled with your application during the build process.</p>
      </div>
      <div class="callout platform-specific">
        <p><strong>For Android Developers:</strong> Unlike Android's resource system with specific folders for different densities, React Native can automatically handle image scaling based on device density.</p>
      </div>
    </section>
    
    <!-- Configuration Files: app.json Slide -->
    <section class="slide content-slide">
      <h2>Configuration Files: app.json</h2>
      <div class="content-block">
        <p>The <code>app.json</code> file contains configuration settings for the Expo project:</p>
        <div class="code-block">
          <pre><code>{
  "expo": {
    "name": "My App",
    "slug": "my-app",
    "version": "1.0.0",
    "orientation": "portrait",
    "icon": "./assets/icon.png",
    "splash": {
      "image": "./assets/splash.png",
      "resizeMode": "contain",
      "backgroundColor": "#ffffff"
    },
    "ios": { ... },
    "android": { ... }
  }
}</code></pre>
        </div>
        <p>This file controls how your app is built and behaves on different platforms.</p>
      </div>
      <div class="callout deep-dive">
        <p>The <code>app.json</code> file is Expo's way of centralizing configuration that would otherwise be spread across multiple native project files.</p>
      </div>
    </section>
    
    <!-- Configuration Files: package.json Slide -->
    <section class="slide content-slide">
      <h2>Configuration Files: package.json</h2>
      <div class="content-block">
        <p>The <code>package.json</code> file defines project dependencies and scripts:</p>
        <div class="code-block">
          <pre><code>{
  "name": "my-app",
  "version": "1.0.0",
  "main": "node_modules/expo/AppEntry.js",
  "scripts": {
    "start": "expo start",
    "android": "expo start --android",
    "ios": "expo start --ios",
    "web": "expo start --web"
  },
  "dependencies": {
    "expo": "~49.0.0",
    "react": "18.2.0",
    "react-native": "0.72.3"
  },
  "devDependencies": {
    "@types/react": "~18.2.14",
    "typescript": "^5.1.3"
  }
}</code></pre>
        </div>
        <p>This file is standard for all JavaScript/Node.js projects and manages your project's dependencies.</p>
      </div>
    </section>
    
    <!-- Environment Variables Slide -->
    <section class="slide content-slide">
      <h2>Environment Variables</h2>
      <div class="content-block">
        <p>Environment-specific variables help manage different configurations:</p>
        <div class="code-block">
          <pre><code># Install required packages
npm install dotenv babel-plugin-inline-dotenv

# Create environment files
touch .env.development
touch .env.production
touch .env.staging</code></pre>
        </div>
        <p>Environment variables allow you to maintain different configurations for development, staging, and production.</p>
        <p>Example <code>.env.development</code> file:</p>
        <div class="code-block">
          <pre><code>API_URL=https://api-dev.example.com
DEBUG=true
FEATURE_FLAGS_ENABLED=true</code></pre>
        </div>
      </div>
      <div class="callout platform-specific">
        <p><strong>For iOS/Android Developers:</strong> This approach replaces platform-specific configuration files (Info.plist, build.gradle) for environment-dependent settings.</p>
      </div>
    </section>
    
    <!-- Using Environment Variables Slide -->
    <section class="slide content-slide">
      <h2>Using Environment Variables</h2>
      <div class="content-block">
        <p>Configure Babel to include environment variables in your code:</p>
        <div class="code-block">
          <pre><code>// babel.config.js
module.exports = function(api) {
  api.cache(true);
  return {
    presets: ['babel-preset-expo'],
    plugins: ['inline-dotenv']
  };
};</code></pre>
        </div>
        <p>Access environment variables in your application code:</p>
        <div class="code-block">
          <pre><code>// In your React Native component
import React from 'react';
import { Text, View } from 'react-native';

export default function ApiStatus() {
  return (
    <View>
      <Text>API URL: {process.env.API_URL}</Text>
      <Text>Debug Mode: {process.env.DEBUG ? 'Enabled' : 'Disabled'}</Text>
    </View>
  );
}</code></pre>
        </div>
      </div>
    </section>
    
    <!-- Dynamic Configuration Slide -->
    <section class="slide content-slide">
      <h2>Dynamic Configuration with app.config.js</h2>
      <div class="content-block">
        <p>Use <code>app.config.js</code> for dynamic configuration based on environment:</p>
        <div class="code-block">
          <pre><code>// app.config.js
export default {
  name: 'My App',
  version: '1.0.0',
  // Load values from .env
  extra: {
    apiUrl: process.env.API_URL,
    authToken: process.env.AUTH_TOKEN,
  },
  // Environment-specific settings
  ios: {
    bundleIdentifier: process.env.ENV === 'production'
      ? 'com.mycompany.myapp'
      : 'com.mycompany.myapp.dev'
  }
};</code></pre>
        </div>
        <p>Access configuration values in your app using the Expo Constants API:</p>
        <div class="code-block">
          <pre><code>import Constants from 'expo-constants';

// Access the apiUrl from app.config.js
const apiUrl = Constants.expoConfig.extra.apiUrl;</code></pre>
        </div>
      </div>
      <div class="callout deep-dive">
        <p>Using <code>app.config.js</code> instead of <code>app.json</code> allows for dynamic, environment-based configuration that's determined at build time.</p>
      </div>
    </section>
    
    <!-- Platform-Specific Configuration Slide -->
    <section class="slide content-slide">
      <h2>Platform-Specific Configuration</h2>
      <div class="content-block">
        <p>Configure platform-specific settings for iOS and Android:</p>
        <div class="code-block">
          <pre><code>// app.config.js
export default {
  // ... other config
  ios: {
    bundleIdentifier: 'com.mycompany.myapp',
    buildNumber: '1.0.0',
    infoPlist: {
      NSCameraUsageDescription: 'This app uses the camera to scan barcodes'
    }
  },
  android: {
    package: 'com.mycompany.myapp',
    versionCode: 1,
    permissions: ['CAMERA', 'ACCESS_FINE_LOCATION']
  }
};</code></pre>
        </div>
      </div>
      <div class="callout platform-specific">
        <p><strong>For Android Developers:</strong> The <code>permissions</code> array automatically adds entries to your AndroidManifest.xml.</p>
        <p><strong>For iOS Developers:</strong> The <code>infoPlist</code> object adds entries to your Info.plist file.</p>
      </div>
    </section>
    
    <!-- Advanced Configuration with Plugins Slide -->
    <section class="slide content-slide">
      <h2>Advanced Configuration with Plugins</h2>
      <div class="content-block">
        <p>Use Expo's plugin system for native code configuration without ejecting:</p>
        <div class="code-block">
          <pre><code>// app.config.js
export default {
  // ... other config
  plugins: [
    [
      'expo-camera',
      {
        cameraPermission: 'Allow $(PRODUCT_NAME) to access your camera'
      }
    ],
    [
      'expo-location',
      {
        locationAlwaysAndWhenInUsePermission: 
          'Allow $(PRODUCT_NAME) to use your location'
      }
    ]
  ]
};</code></pre>
        </div>
        <p>Plugins provide a way to configure native code without having to eject or modify native files directly.</p>
      </div>
      <div class="callout deep-dive">
        <p>Expo's plugin system was introduced as part of the Expo Config Plugins API, allowing developers to modify native code at build time while staying in the managed workflow.</p>
      </div>
    </section>
    
    <!-- Recommended Project Structure Slide -->
    <section class="slide content-slide">
      <h2>Recommended Project Structure</h2>
      <div class="content-block">
        <p>A scalable organization for larger React Native projects:</p>
        <div class="code-block">
          <pre><code>my-app/
  ├── app/               # Expo Router pages
  ├── assets/            # Static assets
  ├── components/        # Reusable UI components
  │   ├── common/        # Shared components
  │   └── screens/       # Screen-specific components
  ├── constants/         # App constants and configuration
  ├── hooks/             # Custom React hooks
  ├── services/          # API and third-party service integrations
  ├── store/             # State management (Redux, Context)
  ├── styles/            # Shared styles and themes
  ├── types/             # TypeScript type definitions
  └── utils/             # Utility functions</code></pre>
        </div>
        <p>This structure promotes separation of concerns and helps maintain a clean codebase as the project grows.</p>
      </div>
    </section>
    
    <!-- Exercise Slide -->
    <section class="slide content-slide">
      <h2>Exercise: Configure a Pharmacy App</h2>
      <div class="content-block">
        <p>Using the code from the previous section, create an <code>app.config.js</code> file that:</p>
        <ol>
          <li>Sets different API endpoints for development and production</li>
          <li>Configures permissions needed for barcode scanning (camera)</li>
          <li>Sets up platform-specific configurations for iOS and Android</li>
          <li>Implements environment variables for feature toggling</li>
        </ol>
        <div class="exercise-details">
          <p><strong>Activity:</strong> App Configuration Exercise</p>
          <p><strong>Link:</strong> <a href="#0" target="_blank">Configuration Exercise Files</a></p>
          <p><strong>Time:</strong> 15-20 minutes</p>
        </div>
      </div>
      <div class="callout self-led">
        <p><strong>Self-Led Learners:</strong> If you don't have access to the exercise files, create a new Expo project and implement the configuration from scratch.</p>
      </div>
    </section>
    
    <!-- Key Takeaways Slide -->
    <section class="slide summary-slide">
      <h2>Key Takeaways</h2>
      <ul>
        <li>Understanding the project structure is essential for efficient React Native development</li>
        <li>Configuration files like app.json and package.json control your project's behavior</li>
        <li>Environment variables and app.config.js provide flexibility across different environments</li>
        <li>Platform-specific configuration allows customization for iOS and Android</li>
        <li>A well-organized project structure promotes maintainability and scaling</li>
      </ul>
      <div class="navigation-links">
        <p><a href="../section-3-running-on-simulators-and-devices/index.html">← Previous: Section 3: Running on Simulators and Devices</a></p>
        <p><a href="../../module-3-web-development-essentials/index.html">Next Module: Web Development Essentials →</a></p>
        <p><a href="../index.html">Back to Module Overview</a></p>
      </div>
    </section>
  </div>
  
  <script src="../../shared/script.js"></script>
</body>
</html> 